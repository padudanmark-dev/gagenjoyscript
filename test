-- SUBZERO SCRIPT LOADER - FINAL VERSION
-- For KRNL Executor | Full-Screen | Clean UI | System UI Hidden

-- // SERVICES // --
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")

-- // VARIABLES // --
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Clear previous loader
if playerGui:FindFirstChild("SUBZERO_Loader") then
    playerGui.SUBZERO_Loader:Destroy()
end

-- Hide system UI (Backpack, Chat, PlayerList, etc.)
for _, guiType in ipairs(Enum.CoreGuiType:GetEnumItems()) do
    pcall(function()
        StarterGui:SetCoreGuiEnabled(guiType, false)
    end)
end

-- // UI CREATION // --
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SUBZERO_Loader"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(1, 0, 1, 0)
mainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- TITLE
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0.1, 0)
title.Position = UDim2.new(0, 0, 0.1, 0)
title.Text = "SUBZERO SCRIPT"
title.Font = Enum.Font.GothamBlack
title.TextColor3 = Color3.fromRGB(0, 255, 255)
title.TextSize = 48
title.BackgroundTransparency = 1
title.TextStrokeTransparency = 0.3
title.TextStrokeColor3 = Color3.new(0, 0, 0)
title.Parent = mainFrame

-- FAKE SYSTEM STATUS
local status = Instance.new("TextLabel")
status.Size = UDim2.new(1, 0, 0.05, 0)
status.Position = UDim2.new(0, 0, 0.2, 0)
status.Text = "Initializing..."
status.Font = Enum.Font.Code
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.TextSize = 20
status.BackgroundTransparency = 1
status.Parent = mainFrame

-- LOADING TEXT WITH DOTS
local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 0.05, 0)
loadingText.Position = UDim2.new(0, 0, 0.3, 0)
loadingText.Text = "Loading"
loadingText.Font = Enum.Font.GothamMedium
loadingText.TextColor3 = Color3.new(1, 1, 1)
loadingText.TextSize = 22
loadingText.BackgroundTransparency = 1
loadingText.Parent = mainFrame

-- LOADING BAR BACKGROUND
local barBG = Instance.new("Frame")
barBG.Size = UDim2.new(0.6, 0, 0.03, 0)
barBG.Position = UDim2.new(0.2, 0, 0.5, 0)
barBG.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
barBG.BorderSizePixel = 0
barBG.Parent = mainFrame
barBG.ClipsDescendants = true
barBG.AnchorPoint = Vector2.new(0.5, 0.5)
barBG.Position = UDim2.new(0.5, 0, 0.5, 0)
barBG.BackgroundTransparency = 0
barBG.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
barBG.BorderSizePixel = 0
barBG.ZIndex = 2

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(1, 0)
UICorner.Parent = barBG

-- LOADING BAR FILL
local bar = Instance.new("Frame")
bar.Size = UDim2.new(0, 0, 1, 0)
bar.Position = UDim2.new(0, 0, 0, 0)
bar.BackgroundColor3 = Color3.fromRGB(0, 255, 180)
bar.BorderSizePixel = 0
bar.BackgroundTransparency = 0
bar.ZIndex = 3
bar.Parent = barBG

local barCorner = Instance.new("UICorner")
barCorner.CornerRadius = UDim.new(1, 0)
barCorner.Parent = bar

-- ESTIMATED TIME LEFT
local timeText = Instance.new("TextLabel")
timeText.Size = UDim2.new(1, 0, 0.05, 0)
timeText.Position = UDim2.new(0, 0, 0.55, 0)
timeText.Text = "Estimated Time Left: 1:30"
timeText.Font = Enum.Font.Gotham
timeText.TextColor3 = Color3.new(1, 1, 1)
timeText.TextSize = 20
timeText.BackgroundTransparency = 1
timeText.Parent = mainFrame

-- WARNING TEXT
local warning = Instance.new("TextLabel")
warning.Size = UDim2.new(1, 0, 0.05, 0)
warning.Position = UDim2.new(0, 0, 0.6, 0)
warning.Text = "⚠️ Don’t quit. If you exit while loading, there’s a high chance you’ll get banned."
warning.Font = Enum.Font.GothamSemibold
warning.TextColor3 = Color3.fromRGB(255, 80, 80)
warning.TextSize = 18
warning.BackgroundTransparency = 1
warning.TextWrapped = true
warning.Parent = mainFrame

-- LOADING TIPS
local tip = Instance.new("TextLabel")
tip.Size = UDim2.new(1, 0, 0.04, 0)
tip.Position = UDim2.new(0, 0, 0.66, 0)
tip.Text = "Tip: Use this script in private servers for safety."
tip.Font = Enum.Font.Gotham
tip.TextColor3 = Color3.new(0.9, 0.9, 0.9)
tip.TextSize = 18
tip.BackgroundTransparency = 1
tip.Parent = mainFrame

-- STATUS ROTATION & TIPS --
local fakeStatuses = {
    "Initializing...",
    "Verifying Executor...",
    "Checking Assets...",
    "Syncing with server...",
    "Running Security Check...",
    "Preparing GUI..."
}

local tips = {
    "Tip: Use this script in private servers for safety.",
    "Tip: Don’t spam the GUI.",
    "Tip: Wait for full loading before using UI.",
    "Tip: Report bugs to the dev."
}

local function cycleText(label, list, interval)
    coroutine.wrap(function()
        while screenGui.Parent do
            for _, txt in ipairs(list) do
                label.Text = txt
                wait(interval)
            end
        end
    end)()
end

cycleText(status, fakeStatuses, 2)
cycleText(tip, tips, 5)

-- DOT LOADER
coroutine.wrap(function()
    while screenGui.Parent do
        for i = 1, 3 do
            loadingText.Text = "Loading" .. string.rep(".", i)
            wait(0.5)
        end
    end
end)()

-- PROGRESS BAR
local totalTime = 90 -- seconds
local steps = 90
local stepTime = totalTime / steps

for i = 1, steps do
    local percent = i / steps
    TweenService:Create(bar, TweenInfo.new(stepTime, Enum.EasingStyle.Linear), {
        Size = UDim2.new(percent, 0, 1, 0)
    }):Play()

    local secondsLeft = math.floor(totalTime - i * stepTime)
    timeText.Text = "Estimated Time Left: " .. string.format("%d:%02d", math.floor(secondsLeft / 60), secondsLeft % 60)

    wait(stepTime)
end

-- FADE OUT
local fadeFrame = Instance.new("Frame")
fadeFrame.Size = UDim2.new(1, 0, 1, 0)
fadeFrame.BackgroundColor3 = Color3.new(0, 0, 0)
fadeFrame.BackgroundTransparency = 1
fadeFrame.ZIndex = 10
fadeFrame.Parent = mainFrame

TweenService:Create(fadeFrame, TweenInfo.new(2), {BackgroundTransparency = 0}):Play()
wait(2)

-- Cleanup
screenGui:Destroy()

-- Re-enable CoreGui after loading
for _, guiType in ipairs(Enum.CoreGuiType:GetEnumItems()) do
    pcall(function()
        StarterGui:SetCoreGuiEnabled(guiType, true)
    end)
end
